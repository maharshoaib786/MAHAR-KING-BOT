# MAHAR KING BOT

MAHAR KING BOT is a MetaTrader 5 companion that pairs a Telegram-driven signal reader with a Tkinter desktop dashboard. Connect your broker, point the bot at your Telegram channel, and manage execution, monitoring, and trailing logic from one place.

> Trading carries risk. Always validate strategies on a demo account before trading live. You are responsible for the results of running this software.

---

## Highlights

- MT5-native execution through the official Python API; volumes, price normalization, and magic numbers are handled automatically.
- Signal-aware trading that mirrors structured Telegram signals into pending or market orders.
- Built-in trailing engine that keeps stop-loss levels in sync with the original TP ladder.
- A Tkinter dashboard with tabs for live status, configuration, manual trades, and updates.
- Update and release tooling that can fetch or publish GitHub releases with a single click.
- Profile persistence so you can save multiple account and strategy configurations.

---

## Dashboard Overview

| Tab | Purpose |
| --- | --- |
| Dashboard | Start or stop the bot, view MT5 and Telegram status, inspect last signal, and track P/L. |
| Configuration | Left column: trading symbol, grid, lot controls, limits. Right column: MT5 credentials and Telegram settings. |
| Manual Trades | Launch custom grids, close pending or open orders, or stage manual actions. |
| Settings | Theme selection, window layout persistence, GitHub update configuration, and live update status. |

---

## Quick Start

1. Install Python requirements:
   ```
   python -m pip install -r requirements.txt
   ```
2. Create a `.env` beside `requirements.txt`:
   ```ini
   MT5_LOGIN=1234567
   MT5_PASSWORD=your_password
   MT5_SERVER=YourBroker-Server
   TELEGRAM_TOKEN=123456789:ABCDEF_bot_token
   TELEGRAM_CHANNEL_ID=-1001234567890
   SYMBOL=XAUUSD
   SYMBOL_SUFFIX=m
   LOT_FALLBACK=0.10
   FORE_AI_MAGIC=777001
   SLIPPAGE=30
   ```
3. Launch the dashboard:
   ```
   python "MAHAR KING BOT/bot_dashboard.py"
   ```
   (or double-click `MAHAR KING BOT/run_dashboard.bat`).
4. Start the Telegram listener from the Dashboard tab.
5. When a signal arrives, review it and press **Place Orders** to mirror it into MT5.

---

## Supported Signal Templates

| Template | Summary |
| --- | --- |
| Zone ladder | Classic signals with lot size, zone bounds, SL, and multiple TP levels; creates a ladder of LIMIT orders. |
| Fixed repeat | `Lot size=0.10`, `Lots=10`, `Buy limit=3410`, `TP 3420`, `SL 3400`; repeats identical LIMIT orders. |
| Multi-entry ladder | One line per entry (`Buy limit 3410 -> TP 3420`); each becomes a separate pending order with its own TP. |
| Market scalps | `BTCUSD`, `Lots=6`, `Buy Now`, followed by TP ladder and SL; sends immediate market orders. |
| Stop grids | `Sell Stop` or `Buy Stop` combined with `entry -> TP` pairs and a shared SL; produces a STOP-order ladder. |

Trailing logic automatically follows the TP ladder generated by the originating signal.

---

## Dashboard Features

- Telegram listener toggle, last parsed signal view, and optional auto-place mode.
- Quick actions to close pending orders or positions (all, by symbol, or by side).
- Profile manager that saves and restores dashboard state (`profiles.json`).
- GitHub updater that checks releases, installs updates, or publishes new versions when credentials are provided.
- Theme and layout persistence so the dashboard re-opens exactly as you left it.

---

## Auto-Update and Releases

1. Add `GITHUB_TOKEN` (or `GH_TOKEN`) to `.env` with `repo` scope (private repos) or `public_repo` scope (public repos).
2. Open Settings and configure the repository slug (default is `maharshoaib786/MAHAR-KING-BOT`).
3. Press **Check for Updates** to fetch the newest release and install it if desired.
4. Use the same view or `release_github.py` to publish new tagged releases.

---

## Troubleshooting

| Issue | Remedy |
| --- | --- |
| `initialize()` failed | Ensure MT5 terminal is installed, logged in, and server/credentials are correct. |
| Symbol not found | Confirm the symbol is enabled in MT5 Market Watch; set `SYMBOL_SUFFIX` if your broker adds one. |
| No signals | Verify the Telegram bot token, channel ID, and that the bot can read messages in the target chat. |
| Orders rejected | Check broker limits (min lot, step, distance to SL/TP) and adjust settings accordingly. |
| Trailing inactive | Ensure the signal included numeric TP levels; the bot stores them for trailing in `tp_ladders.json`. |

---

## Repository Layout

```
MAHAR KING BOT/
+-- bot_dashboard.py        # main Tkinter application
+-- Bot.py                  # MT5 interaction and trading logic
+-- auto_updater.py         # release check/install helpers
+-- profiles.json           # saved dashboard profiles
+-- dashboard_prefs.json    # window, theme, update settings
+-- run_dashboard.bat       # convenience launcher
+-- GUI-BOT/                # indicators and auxiliary scripts
+-- release-notes/          # changelog files per version
```

---

## License and Disclaimer

MAHAR KING BOT is provided as-is, without warranty of any kind. Trading can result in significant losses. Test thoroughly on demo accounts and confirm broker compatibility before trading live capital.

---

Questions or ideas? Open an issue on [GitHub](https://github.com/maharshoaib786/MAHAR-KING-BOT) or reach out via your Telegram channel.
